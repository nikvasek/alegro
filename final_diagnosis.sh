#!/bin/bash
# –§–∏–Ω–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

echo "üéâ –§–ò–ù–ê–õ–¨–ù–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê RAILWAY –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Ø"
echo "=============================================="
echo ""

echo "üìä –ü–£–¢–¨ –†–ï–®–ï–ù–ò–Ø –ü–†–û–ë–õ–ï–ú:"
echo "1. ‚ùå Healthcheck failed ‚Üí ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω Flask —Å–µ—Ä–≤–µ—Ä"
echo "2. ‚ùå Bot conflicts ‚Üí ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ webhook"
echo "3. ‚ùå ChromeDriver exited ‚Üí ‚úÖ –°–æ–∑–¥–∞–Ω nixpacks.toml"
echo "4. ‚ùå Nixpacks libX11 error ‚Üí ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–∏–ª–∏—Å—å –Ω–∞ Dockerfile"
echo "5. ‚ùå apt-key not found ‚Üí ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Chrome"
echo ""

echo "‚úÖ –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï:"
echo "‚Ä¢ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: https://github.com/nikvasek/alegro"
echo "‚Ä¢ Dockerfile —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π Chrome"
echo "‚Ä¢ Flask healthcheck —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 8080"
echo "‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ webhook –∏ polling —Ä–µ–∂–∏–º–æ–≤"
echo "‚Ä¢ 14 –≥–æ—Ç–æ–≤—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è"
echo ""

echo "üîß DOCKERFILE –û–°–û–ë–ï–ù–ù–û–°–¢–ò:"
echo "‚Ä¢ Python 3.9-slim –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑"
echo "‚Ä¢ –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Chrome (gpg –≤–º–µ—Å—Ç–æ apt-key)"
echo "‚Ä¢ ChromeDriver –≤–µ—Ä—Å–∏–∏ 114.0.5735.90"
echo "‚Ä¢ xvfb –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –¥–∏—Å–ø–ª–µ—è"
echo "‚Ä¢ –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏"
echo ""

echo "üìã –ü–ï–†–ï–ú–ï–ù–ù–´–ï –û–ö–†–£–ñ–ï–ù–ò–Ø:"
echo "‚Ä¢ GOOGLE_CHROME_BIN=/usr/bin/google-chrome"
echo "‚Ä¢ CHROMEDRIVER_PATH=/usr/bin/chromedriver"
echo "‚Ä¢ DISPLAY=:99"
echo ""

echo "‚è∞ –°–¢–ê–¢–£–° –ü–ï–†–ï–°–ë–û–†–ö–ò:"
echo "Railway —Å–µ–π—á–∞—Å —Å–æ–±–∏—Ä–∞–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é Dockerfile..."
echo "–í—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–µ—à–µ–Ω—ã!"
echo ""

echo "üéØ –ì–û–¢–û–í–ù–û–°–¢–¨ –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ:"
echo "–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ (2-3 –º–∏–Ω—É—Ç—ã):"
echo "1. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª –≤ –±–æ—Ç–∞"
echo "2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É EAN –∫–æ–¥–æ–≤"
echo "3. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ—Ç—á–µ—Ç–∞"
echo ""

echo "üìû –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –°–ö–†–ò–ü–¢–´:"
echo "‚Ä¢ ./aptkey_fix.sh - –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ apt-key –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è"
echo "‚Ä¢ ./dockerfile_fix.sh - –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ Dockerfile"
echo "‚Ä¢ ./final_check.sh - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞"
echo ""

read -p "–ù–∞–∂–º–∏—Ç–µ Enter –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ Railway..."

echo ""
echo "üéä –ü–û–ó–î–†–ê–í–õ–Ø–ï–ú!"
echo "–í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã, –±–æ—Ç –≥–æ—Ç–æ–≤ –∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ!"
echo "üöÄ Telegram –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7 –Ω–∞ Railway! ü§ñ"